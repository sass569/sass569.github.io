<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chopin Showcase - A Journey Through His Works</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/overrides.css">
    <style>
        /* Dark Mode with Piano Aesthetic */
        body, .body-wrap {
            background: linear-gradient(135deg, rgba(26,31,46,0.85) 0%, rgba(15,18,24,0.85) 100%), url('https://upload.wikimedia.org/wikipedia/commons/9/9a/Eug%C3%A8ne_Delacroix_-_Fr%C3%A9d%C3%A9ric_Chopin_-_WGA06194.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #E8EAED;
            font-family: 'Times New Roman', Times, serif;
        }

        /* Make footer text flush-left on this page */
        .site-footer .container { max-width: 100%; margin: 0; padding-left: 0; padding-right: 0; }
        .site-footer p { margin: 0; }
        
        /* Ensure Chopin menu tabs use Times New Roman */
        .cm-tab,
        button.cm-tab,
        .chopin-menu .cm-tab { font-family: 'Times New Roman', Times, serif !important; }
        
        .site-content {
            background: transparent;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #E8EAED;
            font-family: 'Times New Roman', Times, serif;
        }
        
        p, .text-color-high, .text-color-mid {
            color: #B8BCC4;
            line-height: 1.8;
        }
        
        .chopin-intro {
            padding: 120px 0 110px;
            text-align: center;
            position: relative;
            overflow: visible; /* prevent clipping of descenders like 'p' */
        }
        
        .chopin-intro::before {
            content: '‚ô´';
            position: absolute;
            font-size: 200px;
            opacity: 0.03;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 0;
        }
        
        .chopin-intro h1 {
            font-size: 4rem;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
            background: linear-gradient(135deg, #E8EAED 0%, #B8BCC4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.15; /* prevent descender clipping */
            padding-bottom: 6px; /* ensure 'p' descender has room */
            overflow: visible; /* allow descenders to render fully */
        }
        
        .chopin-intro .subtitle {
            font-size: 1.5rem;
            color: #8A8F9A;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }
        
        .chopin-bio {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            background: rgba(60, 47, 36, 0.45);
            border-radius: 12px;
            border: 1px solid rgba(179, 141, 92, 0.35);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
        }
        
        .chopin-bio p {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .categories-section {
            padding: 80px 0;
            background: rgba(60, 47, 36, 0.35);
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .category-card {
            background: linear-gradient(135deg, #3c2f24 0%, #221a14 100%);
            border-radius: 16px;
            padding: 40px 30px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid rgba(179, 141, 92, 0.45);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            text-decoration: none;
            display: block;
        }
        
        .category-card::before {
            content: '‚ô™';
            position: absolute;
            font-size: 80px;
            opacity: 0.1;
            top: -20px;
            right: -20px;
            transform: rotate(15deg);
        }
        
        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            border-color: #c7925b;
        }
        
        .category-card h3 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #E8EAED;
            position: relative;
            z-index: 1;
        }
        
        .category-card p {
            color: #8A8F9A;
            font-size: 0.95rem;
            position: relative;
            z-index: 1;
        }
        
        .category-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            display: block;
            position: relative;
            z-index: 1;
        }
        /* Remove any underlines from category cards and icons */
        .category-card, .category-card * { text-decoration: none !important; }
        
        .piano-decoration {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
			height: 92px;
            background: none; /* remove brownish hue */
            pointer-events: none;
            z-index: 1000;
            visibility: visible;
        }
        
        .piano-keys {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            height: 100%;
            padding-bottom: 10px;
        }
        
        .piano-key {
            width: 30px;
            height: 40px;
            background: #E8EAED;
            margin: 0 2px;
            border-radius: 0 0 4px 4px;
            opacity: 0.3;
        }
        
        .piano-key.black {
            background: #0F1218;
            height: 25px;
            margin-left: -15px;
            margin-right: -15px;
            z-index: 1;
            position: relative;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .site-header {
            background: rgba(60, 47, 36, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(179, 141, 92, 0.35);
        }
        /* Hide the YouTube iframe visually (audio only) */
        #yt-bg-player { position: absolute; left: -9999px; width: 0; height: 0; }
        /* Mini player button styling: minimal white icons, no boxes */
		.mini-player-wrap {
			background: rgba(24, 26, 32, 0.5);
			border: 1px solid rgba(199, 146, 91, 0.4);
			box-shadow: 0 6px 24px rgba(0, 0, 0, 0.35);
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			border-radius: 14px;
			padding: 16px 18px 18px;
			display: flex;
			flex-direction: column;
			gap: 10px;
			min-width: 340px;
			width: clamp(360px, 90vw, 1200px);
			max-width: 100%;
		}
		.mini-player { display:flex; align-items:center; gap:12px; flex-wrap: wrap; }
		#mp-play, #mp-next {
			background: linear-gradient(180deg, rgba(231,177,120,0.95), rgba(199,146,91,0.95));
			border: 1px solid rgba(255,255,255,0.25);
			color: #1a1c22;
			font-size: 16px;
			line-height: 1;
			padding: 10px;
			border-radius: 14px;
			min-width: 40px;
			min-height: 40px;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			box-shadow: 0 6px 14px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.45);
			transition: transform 0.12s ease, box-shadow 0.2s ease, filter 0.2s ease, background 0.2s ease;
			user-select: none;
			-webkit-tap-highlight-color: transparent;
			position: relative;
			overflow: hidden;
		}
		#mp-play:hover, #mp-next:hover {
			transform: translateY(-1px) scale(1.03);
			box-shadow: 0 10px 18px rgba(0,0,0,0.45), 0 0 0 4px rgba(231,177,120,0.15);
			filter: brightness(1.02);
		}
		#mp-play:active, #mp-next:active {
			transform: translateY(0) scale(0.98);
			box-shadow: 0 4px 10px rgba(0,0,0,0.35);
			filter: brightness(0.98);
		}
		#mp-play:focus-visible, #mp-next:focus-visible {
			outline: none;
			box-shadow: 0 0 0 3px rgba(255,255,255,0.6), 0 0 0 6px rgba(231,177,120,0.35);
		}
		/* Subtle shine */
		#mp-play::before, #mp-next::before {
			content: '';
			position: absolute;
			inset: 0;
			border-radius: 14px;
			background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0) 40%);
			pointer-events: none;
			opacity: 0.6;
		}
		.mini-volume-icon {
			color: #e7b178;
			font-size: 1rem;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			width: 24px;
			height: 24px;
			filter: drop-shadow(0 0 4px rgba(231,177,120,0.35));
		}
		#mp-title {
			color: #E8EAED;
			font-size: 1rem;
			white-space: normal !important;
			overflow: visible !important;
			text-overflow: initial !important;
			line-height: 1.4;
		}
		.mini-player-title {
			color:#E8EAED;
			font-size:1rem;
			line-height:1.45;
			text-align:center;
			width: 100%;
			padding: 2px 0;
		}
		.mini-player-title .track-title {
			display:block;
			word-break: keep-all;
			overflow-wrap: anywhere;
			hyphens: auto;
			max-width: none !important;
		}
		.mini-player-bottom {
			display: grid;
			grid-template-columns: 42px 1fr 42px;
			align-items: center;
			gap: 8px;
		}
		.mini-time { color: #9FA6B2; font-size: 0.75rem; text-align: center; }
		/* Sliders */
		input[type="range"] {
			-webkit-appearance: none;
			appearance: none;
			background: transparent;
		}
		/* Progress */
		#mp-progress {
			width: 100%;
			height: 4px;
		}
		#mp-progress::-webkit-slider-runnable-track {
			height: 4px;
			background: linear-gradient(90deg, #c7925b 0%, rgba(231,177,120,0.85) 50%, #c7925b 100%);
			border-radius: 999px;
		}
		#mp-progress::-moz-range-track {
			height: 4px;
			background: linear-gradient(90deg, #c7925b 0%, rgba(231,177,120,0.85) 50%, #c7925b 100%);
			border-radius: 999px;
		}
		#mp-progress::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 12px; height: 12px;
			margin-top: -4px;
			border-radius: 50%;
			background: #fff;
			border: 2px solid #c7925b;
			box-shadow: 0 0 0 4px rgba(199,146,91,0.25);
		}
		#mp-progress::-moz-range-thumb {
			width: 12px; height: 12px;
			border-radius: 50%;
			background: #fff;
			border: 2px solid #c7925b;
			box-shadow: 0 0 0 4px rgba(199,146,91,0.25);
		}
		/* Volume (more visible) */
		#mp-volume { width: 140px; height: 6px; }
		#mp-volume::-webkit-slider-runnable-track {
			height: 6px;
			background: rgba(255,255,255,0.18);
			border: 1px solid rgba(231,177,120,0.5);
			border-radius: 999px;
			box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
		}
		#mp-volume::-moz-range-track {
			height: 6px;
			background: rgba(255,255,255,0.18);
			border: 1px solid rgba(231,177,120,0.5);
			border-radius: 999px;
			box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
		}
		#mp-volume::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 14px; height: 14px;
			margin-top: -5px;
			border-radius: 50%;
			background: #fff;
			border: 2px solid #c7925b;
			box-shadow: 0 2px 6px rgba(0,0,0,0.35);
		}
		#mp-volume::-moz-range-thumb {
			width: 14px; height: 14px;
			border-radius: 50%;
			background: #fff;
			border: 2px solid #c7925b;
			box-shadow: 0 2px 6px rgba(0,0,0,0.35);
		}
    
        @media (max-width: 768px) {
            .chopin-intro h1 {
                font-size: 2.5rem;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="has-animations">
    
    <div id="yt-bg-player" aria-hidden="true"></div>
    <audio id="bg-audio" preload="auto" aria-hidden="true"></audio>
    <div class="body-wrap">
        <header class="site-header">
            <div class="container">
                <div class="site-header-inner" style="display: flex; justify-content: space-between; align-items: center; padding: 20px 0;">
                    <div class="brand">
                        <h1 style="margin: 0; font-size: 1.5rem;">
                            <a href="index.html" style="text-decoration: none; color: #E8EAED;">üéπ Chopin Showcase</a>
                        </h1>
                    </div>
                </div>
				<div style="display:flex; flex-direction:column; align-items:center; margin-top: -40px;">
					<div style="color:#e6d1b8; margin-bottom:6px; font-size:0.95rem; letter-spacing:0.2px; visibility:hidden;">Play me!</div>
					<div class="mini-player-wrap" aria-label="Background music player" title="Background music player">
						<div class="mini-player">
							<button id="mp-play" type="button" aria-label="Play/Pause">‚èµ</button>
							<button id="mp-next" type="button" aria-label="Skip">‚è≠</button>
							<span class="mini-volume-icon" aria-hidden="true">üîä</span>
							<input id="mp-volume" type="range" min="0" max="100" value="50" aria-label="Volume" />
						</div>
						<div class="mini-player-title"><span class="track-title" id="mp-title">Loading‚Ä¶</span></div>
						<div class="mini-player-bottom">
							<span id="mp-current" class="mini-time">0:00</span>
							<input id="mp-progress" type="range" min="0" max="1000" value="0" aria-label="Seek" />
							<span id="mp-duration" class="mini-time">0:00</span>
						</div>
					</div>
				</div>
            </div>
        </header>

        <main class="site-content">
            <section class="chopin-intro">
                <div class="container">
                    <h1>Fr√©d√©ric Chopin</h1>
                    <p class="subtitle">1810 - 1849</p>
                    <div class="chopin-bio">
                        <p>
                            Fr√©d√©ric Fran√ßois Chopin was a Polish composer and virtuoso pianist of the Romantic period, 
                            who wrote primarily for solo piano. Born in ≈ªelazowa Wola, Poland, Chopin is widely regarded 
                            as one of the greatest composers for the piano and one of the most important figures in the 
                            Romantic era.
                        </p>
                        <p>
                            His works are characterized by their poetic expressiveness, technical brilliance, and innovative 
                            use of harmony. Chopin's compositions, including his nocturnes, ballades, scherzos, √©tudes, and 
                            piano concertos, continue to captivate audiences and inspire pianists worldwide.
                        </p>
                        <p>
                            Explore his masterpieces through the interpretations of renowned pianists, each bringing their 
                            unique perspective to Chopin's timeless music.
                        </p>
                    </div>
                    <div class="chopin-menu" style="margin-top:28px;">
                        <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
                            <button class="cm-tab" data-section="life" style="background:#c7925b; border:none; color:#fff; padding:8px 14px; border-radius:8px; cursor:pointer;">Life</button>
                            <button class="cm-tab" data-section="works" style="background:#c7925b; border:none; color:#fff; padding:8px 14px; border-radius:8px; cursor:pointer;">Works</button>
                            <button class="cm-tab" data-section="style" style="background:#c7925b; border:none; color:#fff; padding:8px 14px; border-radius:8px; cursor:pointer;">Style</button>
                            <button class="cm-tab" data-section="legacy" style="background:#c7925b; border:none; color:#fff; padding:8px 14px; border-radius:8px; cursor:pointer;">Legacy</button>
                            <button class="cm-tab" data-section="conclusion" style="background:#c7925b; border:none; color:#fff; padding:8px 14px; border-radius:8px; cursor:pointer;">Conclusion</button>
                        </div>
                        <div id="cm-content" style="max-width:900px; margin:18px auto 0; text-align:left; background:rgba(60,47,36,0.35); border:1px solid rgba(179,141,92,0.35); border-radius:12px; padding:20px;">
                            <div data-panel="life">
                                <h3 style="margin-top:0;">Life</h3>
                                <p>Fr√©d√©ric Chopin (1810‚Äì1849) was born in ≈ªelazowa Wola near Warsaw, to a French father and Polish mother. A child prodigy, he absorbed the music of his homeland‚Äîespecially the rhythms of the mazurka‚Äîwhile receiving a rigorous classical education. By his teens, he was already publishing, performing, and dazzling Warsaw society with an exquisite touch and poetic sensibility.</p>
                                <p>In 1830, amid political upheaval, he left for Western Europe and ultimately settled in Paris. There he became a cherished figure of the salon world, admired by leading artists and aristocratic patrons. Quiet and refined in manner, he preferred intimate venues to grand public stages, where the subtlety of his color and rubato could be fully appreciated.</p>
                                <p>Chopin‚Äôs long association with the novelist George Sand brought both comfort and turbulence. During winters in Majorca and years at Nohant, he produced some of his most enduring music. Ill health, likely tuberculosis, shadowed him throughout adulthood, and he died in Paris at thirty‚Äënine. His heart, returned to Warsaw, symbolically unites his Polish identity with the cosmopolitan life he led abroad.</p>
                            </div>
                            <div data-panel="works" style="display:none;">
                                <h3 style="margin-top:0;">Works</h3>
                                <p>Chopin composed almost exclusively for solo piano. His <em>Nocturnes</em> distill bel canto song into keyboard poetry; the <em>Ballades</em> unfold like dramatic narratives without words; <em>Scherzos</em> push energy and contrast to symphonic scale. The <em>√âtudes</em> revolutionized pianistic technique by fusing focused challenges with genuine musical substance.</p>
                                <p>His <em>Mazurkas</em> reimagine Polish folk dance rhythms with harmonic subtlety and introspection; the <em>Polonaises</em> combine ceremonial grandeur with heroic drive; and the <em>Waltzes</em> sparkle with urban elegance and intimacy. Even the youthful <em>Piano Concertos</em> reveal a distinctive ear for color and a singing, ornate right hand supported by refined orchestral textures.</p>
                                <p>Across the catalog, one senses a composer more interested in inner speech than public display. The forms may be concise, but the expressive world they contain feels vast.</p>
                            </div>
                            <div data-panel="style" style="display:none;">
                                <h3 style="margin-top:0;">Style</h3>
                                <p>Chopin‚Äôs idiom marries a singing line‚Äîmodeled on Italian opera‚Äîwith exquisitely shaded harmony and rhythm. His use of chromatic voice‚Äëleading and modal inflections allows phrases to float and turn with conversational flexibility. Rubato, for him, is not indulgence but breath: a living pulse that lets melody speak naturally over a steady accompaniment.</p>
                                <p>He expanded the piano‚Äôs palette through refined pedaling, layered voicing, and ornamental filigree that feels spontaneous rather than decorative. These traits influenced later composers from Wagner and Debussy to Scriabin and Rachmaninoff, and continue to shape how pianists think about color and line.</p>
                            </div>
                            <div data-panel="legacy" style="display:none;">
                                <h3 style="margin-top:0;">Legacy</h3>
                                <p>Chopin‚Äôs music has remained central to pianists and listeners for nearly two centuries. Conservatories use his √âtudes to form technique and taste; competitions test artistry through his Ballades and Nocturnes; and audiences continually rediscover the intimacy of his voice. His works helped define the nineteenth‚Äëcentury piano aesthetic and still anchor the instrument‚Äôs identity today.</p>
                                <p>Manuscripts, letters, and early editions continue to inform performance practice‚Äîhow to shape rubato, articulate ornaments, balance melody and accompaniment. This ongoing dialogue between scholarship and interpretation is part of why his music never feels finished being understood.</p>
                            </div>
                            <div data-panel="conclusion" style="display:none;">
                                <h3 style="margin-top:0;">Conclusion</h3>
                                <p>To spend time with Chopin is to enter a world where the smallest turn of phrase carries feeling, and where poetry lives in resonance and silence as much as in notes. Read a little, listen a while, and notice how the music seems to breathe with you‚Äîsometimes like conversation, sometimes like memory. It is music for the inward ear, companionable in joy and in solitude.</p>
                                <p>Take a moment to explore these works at your own pace‚Äîlinger with a cadence, a harmony that illuminates a scene, or a melody that suddenly feels like your own thoughts set to sound.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="categories-section">
                <div class="container">
                    <h2 style="text-align: center; font-size: 3rem; margin-bottom: 60px; color: #E8EAED;">Explore His Works</h2>
                    <div class="categories-grid">
                        <a href="nocturnes.html" class="category-card">
                            <span class="category-icon">üåô</span>
                            <h3>Nocturnes</h3>
                            <p>Dreamy, lyrical pieces that evoke the night</p>
                        </a>
                        
                        <a href="ballades.html" class="category-card">
                            <span class="category-icon">üìú</span>
                            <h3>Ballades</h3>
                            <p>Epic narrative works of profound emotional depth</p>
                        </a>
                        
                        <a href="scherzos.html" class="category-card">
                            <span class="category-icon">‚ö°</span>
                            <h3>Scherzos</h3>
                            <p>Vibrant, dramatic pieces full of energy</p>
                        </a>
                        
                        <a href="etudes.html" class="category-card">
                            <span class="category-icon">üéØ</span>
                            <h3>√âtudes</h3>
                            <p>Technical studies that are also musical masterpieces</p>
                        </a>
                        
                        <a href="impromptus.html" class="category-card">
                            <span class="category-icon">‚ú®</span>
                            <h3>Impromptus</h3>
                            <p>Spontaneous, lyrical works blending virtuosity and song</p>
                        </a>
                        
                        <a href="piano-concertos.html" class="category-card">
                            <span class="category-icon">üéº</span>
                            <h3>Piano Concertos</h3>
                            <p>Grand orchestral works showcasing the piano</p>
                        </a>
                        
                        <a href="polonaises.html" class="category-card">
                            <span class="category-icon">ü¶Ö</span>
                            <h3>Polonaises</h3>
                            <p>Heroic dances of noble breadth and Polish pride</p>
                        </a>

                        <a href="mazurkas.html" class="category-card">
                            <span class="category-icon">üïØÔ∏è</span>
                            <h3>Mazurkas</h3>
                            <p>Intimate dances infused with Polish folk spirit</p>
                        </a>
                        
                        <a href="waltzes.html" class="category-card">
                            <span class="category-icon">ü©∞</span>
                            <h3>Waltzes</h3>
                            <p>Elegant salons, glittering charm, and lyrical grace</p>
                        </a>
                    </div>
                </div>
            </section>
        </main>

        <footer class="site-footer">
            <div class="container">
                <p>&copy; 2025 Chopin Showcase | Celebrating the works of Fr√©d√©ric Chopin | <a href="https://www.linkedin.com/in/sas-sas-061726398/" target="_blank" rel="noopener noreferrer" style="color:#c7925b; text-decoration:none;">LinkedIn</a></p>
            </div>
        </footer>
    </div>

	<div class="piano-decoration" aria-hidden="true">
		<svg width="100%" height="92" viewBox="0 0 1920 92" preserveAspectRatio="none">
			<defs>
				<pattern id="keys" x="0" y="0" width="140" height="92" patternUnits="userSpaceOnUse">
					<!-- White keys -->
					<rect x="0" y="0" width="20" height="92" fill="rgba(255,255,255,0.25)"/>
					<rect x="20" y="0" width="20" height="92" fill="rgba(255,255,255,0.25)"/>
					<rect x="40" y="0" width="20" height="92" fill="rgba(255,255,255,0.25)"/>
					<rect x="60" y="0" width="20" height="92" fill="rgba(255,255,255,0.25)"/>
					<rect x="80" y="0" width="20" height="92" fill="rgba(255,255,255,0.25)"/>
					<rect x="100" y="0" width="20" height="92" fill="rgba(255,255,255,0.25)"/>
					<rect x="120" y="0" width="20" height="92" fill="rgba(255,255,255,0.25)"/>
					<!-- Black keys (transparent, shorter) -->
					<rect x="15" y="0" width="14" height="58" rx="2" fill="rgba(0,0,0,0.35)"/>
					<rect x="35" y="0" width="14" height="58" rx="2" fill="rgba(0,0,0,0.35)"/>
					<!-- skip between E and F -->
					<rect x="75" y="0" width="14" height="58" rx="2" fill="rgba(0,0,0,0.35)"/>
					<rect x="95" y="0" width="14" height="58" rx="2" fill="rgba(0,0,0,0.35)"/>
					<rect x="115" y="0" width="14" height="58" rx="2" fill="rgba(0,0,0,0.35)"/>
				</pattern>
			</defs>
			<rect x="0" y="0" width="100%" height="92" fill="url(#keys)" />
		</svg>
	</div>

    <!-- YouTube IFrame API for background music -->
    <script>
      // Inject the YouTube IFrame API
      (function loadYTAPI(){
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      })();

      // Playlist: auto-detect local files first, then fallback to /audio/playlist.json
      let PLAYLIST = [];
      const LOCAL_BASES = [
				{ base: 'audio/op-9-2',  title: 'Nocturne in E‚ô≠ major, Op. 9, No. 2' },
				{ base: 'audio/Fantasie', title: 'Fantaisie‚ÄëImpromptu in C‚ôØ minor, Op. posth.' },
				{ base: 'audio/Op-48-1',  title: 'Nocturne in C minor, Op. 48, No. 1' },
				{ base: 'audio/Ballade4', title: 'Ballade in F minor, Op. 52, No. 4' },
				{ base: 'audio/op-20-psth', title: 'Nocturne in C‚ôØ minor, Op. posth., No. 20' }
      ];

      let player, currentTrack, usingAudio = false, currentIndex = 0, lastAdvance = 0;
      const $play = () => document.getElementById('mp-play');
      const $vol = () => document.getElementById('mp-volume');
      const $title = () => document.getElementById('mp-title');
      const $next = () => document.getElementById('mp-next');
      const $audio = () => document.getElementById('bg-audio');

      async function loadPlaylist() {
        // Try local fixed base names with multiple extensions
        const found = [];
        let headFailed = false;
        for (const c of LOCAL_BASES) {
          const exts = ['.mp3', '.mp4', '.m4a', '.ogg'];
          let added = false;
          for (const ext of exts) {
            const url = c.base + ext;
            try {
              const r = await fetch(url, { method: 'HEAD', cache: 'no-store' });
              if (r.ok) { found.push({ url, title: c.title }); added = true; break; }
              else headFailed = true;
            } catch (e) { headFailed = true; }
          }
        }
        if (found.length) {
          PLAYLIST = found;
        } else if (headFailed || location.protocol === 'file:') {
          // If HEAD doesn't work (e.g. file://), assume .mp3 only to avoid rapid skipping
          const optimistic = [];
          for (const c of LOCAL_BASES) {
            optimistic.push({ url: c.base + '.mp3', title: c.title });
          }
          PLAYLIST = optimistic;
        } else {
          // Fallback to JSON playlist if present
          try {
            const res = await fetch('audio/playlist.json', { cache: 'no-store' });
            const list = await res.json();
            PLAYLIST = Array.isArray(list) ? list.filter(x => x && x.url) : [];
          } catch (e) { PLAYLIST = []; }
        }

        if (!PLAYLIST.length) {
          // Remote fallback to ensure something plays even on file:// without local files
          PLAYLIST = [
            { url: 'https://upload.wikimedia.org/wikipedia/commons/8/82/Nocturne_in_E_flat_major%2C_Op._9_no._2.mp3', title: 'Nocturne in E-flat major, Op. 9 No. 2 (Wikimedia)' }
          ];
        }
        currentIndex = Math.floor(Math.random() * PLAYLIST.length);
        currentTrack = PLAYLIST[currentIndex];
        if ($title()) $title().textContent = currentTrack.title || currentTrack.url;
        return true;
      }

      function loadTrack(track, autoplay=false) {
        // Force HTML5 audio for playlist entries
        if ($audio() && (track.url || track.file)) {
          usingAudio = true;
          const src = track.url || track.file;
          $audio().src = src;
          try { $audio().volume = (parseInt($vol().value,10)||50)/100; } catch(e){}
          if (!$audio()._bound) {
            $audio().addEventListener('ended', () => nextTrack(true));
            $audio().addEventListener('error', () => { if ($play()) $play().textContent='‚èµ'; });
            $audio()._bound = true;
          }
          if (autoplay) { try { $audio().play(); } catch(e){} } else { $audio().load(); }
        } else {
          // As a fallback, try YouTube if ever needed (should not be used now)
          usingAudio = false;
          if (!player || typeof player.loadVideoById !== 'function') return;
          if (autoplay) player.loadVideoById(track.id); else player.cueVideoById(track.id);
        }
      }

			function formatTime(sec) {
				if (!isFinite(sec) || sec < 0) return '0:00';
				const m = Math.floor(sec / 60);
				const s = Math.floor(sec % 60);
				return m + ':' + (s < 10 ? '0' + s : s);
			}

			function nextTrack(autoplay=true) {
        if (!PLAYLIST.length) return;
        const now = Date.now();
        const since = now - (lastAdvance || 0);
        if (since < 500) {
          // Debounce rapid advances
          setTimeout(() => nextTrack(autoplay), 500 - since);
          return;
        }
        lastAdvance = now;
        currentIndex = (currentIndex + 1) % PLAYLIST.length;
        currentTrack = PLAYLIST[currentIndex];
        if ($title()) $title().textContent = currentTrack.title || currentTrack.url;
        loadTrack(currentTrack, autoplay);
        if ($play()) $play().textContent = autoplay ? '‚è∏' : '‚èµ';
      }

      // Called by YouTube API when ready
      window.onYouTubeIframeAPIReady = function() {
        player = new YT.Player('yt-bg-player', {
          height: '0',
          width: '0',
          videoId: '',
          playerVars: {
            autoplay: 0,
            controls: 0,
            disablekb: 1,
            fs: 0,
            iv_load_policy: 3,
            modestbranding: 1,
            rel: 0
          },
          events: {
            onReady: function() {
              // Ensure audio is not muted and set initial volume
              try { player.unMute(); } catch(e) {}
              if ($vol()) player.setVolume(parseInt($vol().value, 10) || 50);
            },
            onStateChange: function(e) {
              // If track ended, pick a new one and start playing
              if (e.data === YT.PlayerState.ENDED) {
                nextTrack(true);
              }
              // When playing, reflect button state
              if (e.data === YT.PlayerState.PLAYING && $play()) {
                $play().textContent = '‚è∏';
              }
              if ((e.data === YT.PlayerState.PAUSED || e.data === YT.PlayerState.CUED) && $play()) {
                $play().textContent = '‚èµ';
              }
            }
          }
		});

        // UI bindings
        if ($play()) {
          $play().addEventListener('click', function() {
            if (usingAudio && $audio()) {
              if (!$audio().src) { loadTrack(currentTrack||{}, false); }
              if ($audio().paused) { $audio().play().catch(()=>{}); this.textContent='‚è∏'; }
              else { $audio().pause(); this.textContent='‚èµ'; }
            } else {
              if (!player) return;
              const state = player.getPlayerState();
              if (state === YT.PlayerState.PLAYING) {
                player.pauseVideo(); this.textContent = '‚èµ';
              } else if (state === YT.PlayerState.PAUSED || state === YT.PlayerState.CUED || state === -1) {
                try { player.unMute(); } catch(e) {}
                player.playVideo(); this.textContent = '‚è∏';
              } else {
                if (!currentTrack && PLAYLIST.length) currentTrack = PLAYLIST[0];
                loadTrack(currentTrack, true); this.textContent='‚è∏';
              }
            }
          });
        }

        if ($vol()) {
          $vol().addEventListener('input', function() {
            const v = parseInt(this.value, 10) || 0;
            if ($audio()) { try { $audio().volume = v/100; } catch(e){} }
            if (player) { try { player.setVolume(v); } catch(e){} }
          });
        }

		// Progress + time
		const $progress = () => document.getElementById('mp-progress');
		const $cur = () => document.getElementById('mp-current');
		const $dur = () => document.getElementById('mp-duration');
		if ($audio()) {
			$audio().addEventListener('timeupdate', () => {
				try {
					if ($progress()) {
						const d = $audio().duration || 0;
						const c = $audio().currentTime || 0;
						if (d > 0) $progress().value = Math.floor((c / d) * 1000);
					}
					if ($cur()) $cur().textContent = formatTime($audio().currentTime || 0);
					if ($dur()) $dur().textContent = formatTime($audio().duration || 0);
				} catch(e){}
			});
			$audio().addEventListener('loadedmetadata', () => {
				try {
					if ($dur()) $dur().textContent = formatTime($audio().duration || 0);
				} catch(e){}
			});
		}
		if ($progress()) {
			$progress().addEventListener('input', function() {
				try {
					const d = $audio().duration || 0;
					const v = parseInt(this.value, 10) || 0;
					if (d > 0) $audio().currentTime = (v / 1000) * d;
				} catch(e){}
			});
		}

        if ($next()) {
          $next().addEventListener('click', function() {
            nextTrack(true);
          });
        }
      };

      // Global error handler for the YT player (advance on error)
      window.onYouTubePlayerAPIError = function() {
        nextTrack(true);
      };

      // Initialize: load playlist and cue first track (no autoplay)
      document.addEventListener('DOMContentLoaded', async function() {
        const ok = await loadPlaylist();
        if (ok && currentTrack) {
          loadTrack(currentTrack, false);
          if ($play()) $play().textContent = '‚èµ';
        }
      });
    </script>

    <script src="js/main.min.js"></script>
    <script>
      // Simple tab switcher for Chopin menu
      (function(){
        const tabs = document.querySelectorAll('.cm-tab');
        const panels = document.querySelectorAll('#cm-content [data-panel]');
        function showPanel(name){
          panels.forEach(p=>{ p.style.display = (p.getAttribute('data-panel')===name)?'block':'none'; });
        }
        tabs.forEach(t=>{
          t.addEventListener('click', ()=>{
            showPanel(t.getAttribute('data-section'));
          });
        });
        // Default panel
        if (tabs.length) showPanel('life');
      })();
    </script>
</body>
</html>
